{% extends "lest/base.html.twig" %}
{% block main %}
	<main class="main">
		<nav aria-label="breadcrumb" class="breadcrumb-nav mb-2">
			<div class="container">
				<ol class="breadcrumb">
					<li class="breadcrumb-item">
						<a href="{{ path('home') }}">{{'Home'|trans}}</a>
					</li>
					{% if app.request.get('_route') == 'articles_category' %}
						<li class="breadcrumb-item">
							<a href="{{ path('articles') }}">{{'Shop'|capitalize|trans}}</a>
						</li>
						<li class="breadcrumb-item active" aria-current="page">{{ app.request.get('category') |trans}}</li>
					{% endif %}
					{% if app.request.get('_route') == 'articles' %}
						<li class="breadcrumb-item active" aria-current="page">{{'Shop'|trans}}</li>
					{% endif %}
				</ol>
			</div>
			<!-- End .container -->
		</nav>
		<!-- End .breadcrumb-nav -->

		<div class="page-content">
			<div class="container">
				{% include "includes/_alerte.html.twig" %}
				<div class="row">
					<div class="col-lg-9">
						<div class="toolbox">
							<div class="toolbox-left">
								<div class="toolbox-info">
									{{'Showing'|trans}}
									<span>{{ articles|length }}
										{{'of'|trans}}</span>
									{{ articles.totalItemCount }}
									Products
								</div>
								<!-- End .toolbox-info -->
							</div>
							<!-- End .toolbox-left -->

							<div class="toolbox-right">
								<div class="toolbox-sort">
									<label for="sortby">{{'Sort by'|trans}}:</label>
									<div class="select-custom">
										<select name="sortby" id="sortby" class="form-control">
											<option value="popularity" selected="selected">Most Popular</option>
											<option value="rating">Most Rated</option>
											<option value="date">Date</option>
										</select>
									</div>
								</div>
								<!-- End .toolbox-sort -->
								<div class="toolbox-layout">
									<a href="?cols=1" class="btn-layout {{ (app.request.get('cols') == '1' )? 'active': ''  }}">
										<svg width="16" height="10">
											<rect x="0" y="0" width="4" height="4"/>
											<rect x="6" y="0" width="10" height="4"/>
											<rect x="0" y="6" width="4" height="4"/>
											<rect x="6" y="6" width="10" height="4"/>
										</svg>
									</a>

									<a href="?cols=2" class="btn-layout {{ (app.request.get('cols') == '2' )? 'active': ''  }}">
										<svg width="10" height="10">
											<rect x="0" y="0" width="4" height="4"/>
											<rect x="6" y="0" width="4" height="4"/>
											<rect x="0" y="6" width="4" height="4"/>
											<rect x="6" y="6" width="4" height="4"/>
										</svg>
									</a>

									<a href="?cols=3" class="btn-layout {{ (app.request.get('cols') == '3' )? 'active': ''  }}">
										<svg width="16" height="10">
											<rect x="0" y="0" width="4" height="4"/>
											<rect x="6" y="0" width="4" height="4"/>
											<rect x="12" y="0" width="4" height="4"/>
											<rect x="0" y="6" width="4" height="4"/>
											<rect x="6" y="6" width="4" height="4"/>
											<rect x="12" y="6" width="4" height="4"/>
										</svg>
									</a>

									<a href="{{ path('articles') }}" class="btn-layout {{ (app.request.get('cols') is empty )? 'active': ''  }}">
										<svg width="22" height="10">
											<rect x="0" y="0" width="4" height="4"/>
											<rect x="6" y="0" width="4" height="4"/>
											<rect x="12" y="0" width="4" height="4"/>
											<rect x="18" y="0" width="4" height="4"/>
											<rect x="0" y="6" width="4" height="4"/>
											<rect x="6" y="6" width="4" height="4"/>
											<rect x="12" y="6" width="4" height="4"/>
											<rect x="18" y="6" width="4" height="4"/>
										</svg>
									</a>
								</div>
								<!-- End .toolbox-layout -->
							</div>
							<!-- End .toolbox-right -->
						</div>
						<div class="row">
							<div class="col-md-12">
								<form method="get">
									<p class="h4">Filtre par prix:</p>
									<div class="form-row">
										<div class="form-group col-4">
											<input type="number" id="minPrice" value="{{ app.request.get('minPrice') }}" width="100px" name="minPrice" placeholder="Prix Min" class="form-primary">
										</div>
										<div class="form-group col-4">
											<input type="number" id="maxPrice" value="{{ app.request.get('maxPrice') }}" width="100px" name="maxPrice" placeholder="Prix Max" class="form-primary">
										</div>
										<div class="form-group col-4">
											<button type="submit" width="90px" class="btn btn-primary">Appliquer</button>
										</div>
									</div>
								</form>
							</div>
						</div>
						<!-- End .toolbox -->

						{% include "lest/shop/_articles_list.html.twig" %}
					</div>
					<!-- End .col-lg-9 -->

					<aside class="col-lg-3 order-lg-first">
						<div class="sidebar sidebar-shop">
							<div class="widget widget-category widget-collapsible">
								<h3 class="widget-title">
									<a data-toggle="collapse" href="#widget-1" role="button" aria-expanded="false" aria-controls="widget-1" class="collapsed">
										Category
									</a>
								</h3>
								<!-- End .widget-title -->

								<div class="collapse show" id="widget-1" style="">
									<div class="widget-body">
										<div class="filter-items filter-items-count">
											<div class="filter-item">
												<a href="{{path('articles') }}" {{ app.request.get('_route') == 'articles' ? 'class="active"': '' }}>{{ 'All'|trans }}</a>
												<span class="item-count">{{ articles.totalItemCount }}
												</span>
											</div>
											{% for item in categories.all %}
												<div class="filter-item">
													<a href="{{path('articles_category',{category:item.slug|lower}) }}" {{ item.slug == app.request.get( 'category') ? 'class="active"': '' }}>{{ item.title }}</a>
													<span class="item-count">{{ item.articles|length }}</span>
												</div>
											{% endfor %}
										</div>
										<!-- End .filter-items -->
									</div>
									<!-- End .widget-body -->
								</div>
								<!-- End .collapse -->
							</div>
							<!-- End .widget widget-clean -->
							<div class="widget widget-collapsible">
								<h3 class="widget-title">
									<a data-toggle="collapse" href="#widget-brand" role="button" aria-expanded="true" aria-controls="widget-brand">
										{{ 'Brand' |capitalize |trans}}
									</a>
								</h3>
								<!-- End .widget-title -->

								<div class="collapse show" id="widget-brand">
									<div class="widget-body">
										<div class="filter-items filter-items-count">
											<div class="filter-item">
												<div class="custom-control custom-checkbox">
													<input type="checkbox" class="custom-control-input" id="cat-hp">
													<label class="custom-control-label" for="cat-hp">Hp</label>
												</div>
												<!-- End .custom-checkbox -->
												<span class="item-count">100</span>
											</div>
										</div>
										<!-- End .filter-items -->
									</div>
									<!-- End .widget-body -->
								</div>
								<!-- End .collapse -->
							</div>
							<!-- End .category parent-->
							<!-- End .sidebar sidebar-shop -->
						</aside>
						<!-- End .col-lg-3 -->
					</div>
					<!-- End .row -->
				</div>
				<!-- End .container -->
			</div>
			<!-- End .page-content -->
		</main>
		<!-- End .main -->
	{% endblock %}
