{% extends "lest/base.html.twig" %}

{% block main %}
	<main class="main">
		<nav aria-label="breadcrumb" class="breadcrumb-nav mb-2">
			<div class="container">
				<ol class="breadcrumb">
					<li class="breadcrumb-item">
						<a href="{{ path('home') }}">{{'Home'|trans}}</a>
					</li>
					{% if app.request.get('_route') == 'articles_category' %}
					<li class="breadcrumb-item">
						<a href="{{ path('articles') }}">{{'Shop'|capitalize|trans}}</a>
					</li>
					<li class="breadcrumb-item active" aria-current="page">{{ app.request.get('category')  |trans}}</li>
					{% endif %}
					{% if app.request.get('_route') == 'articles' %}
						<li class="breadcrumb-item active" aria-current="page">{{'Shop'|trans}}</li>
					{% endif %}
				</ol>
			</div>
			<!-- End .container -->
		</nav>
		<!-- End .breadcrumb-nav -->

		<div class="page-content">
			<div class="container">
				<div class="row">
					<div class="col-lg-9">
						<div class="toolbox">
							<div class="toolbox-left">
								<div class="toolbox-info">
									{{'Showing'|trans}}
									<span>{{ articles|length }}
										{{'of'|trans}}</span>
									{{ articles.totalItemCount }}
									Products
								</div>
								<!-- End .toolbox-info -->
							</div>
							<!-- End .toolbox-left -->

							<div class="toolbox-right">
								<div class="toolbox-sort">
									<label for="sortby">{{'Sort by'|trans}}:</label>
									<div class="select-custom">
										<select name="sortby" id="sortby" class="form-control">
											<option value="popularity" selected="selected">Most Popular</option>
											<option value="rating">Most Rated</option>
											<option value="date">Date</option>
										</select>
									</div>
								</div>
								<!-- End .toolbox-sort -->
								<div class="toolbox-layout">
									<a href="?cols=1" class="btn-layout {{ (app.request.get('cols') == '1' )? 'active': ''  }}">
										<svg width="16" height="10">
											<rect x="0" y="0" width="4" height="4"/>
											<rect x="6" y="0" width="10" height="4"/>
											<rect x="0" y="6" width="4" height="4"/>
											<rect x="6" y="6" width="10" height="4"/>
										</svg>
									</a>

									<a href="?cols=2" class="btn-layout {{ (app.request.get('cols') == '2' )? 'active': ''  }}">
										<svg width="10" height="10">
											<rect x="0" y="0" width="4" height="4"/>
											<rect x="6" y="0" width="4" height="4"/>
											<rect x="0" y="6" width="4" height="4"/>
											<rect x="6" y="6" width="4" height="4"/>
										</svg>
									</a>

									<a href="?cols=3" class="btn-layout {{ (app.request.get('cols') == '3' )? 'active': ''  }}">
										<svg width="16" height="10">
											<rect x="0" y="0" width="4" height="4"/>
											<rect x="6" y="0" width="4" height="4"/>
											<rect x="12" y="0" width="4" height="4"/>
											<rect x="0" y="6" width="4" height="4"/>
											<rect x="6" y="6" width="4" height="4"/>
											<rect x="12" y="6" width="4" height="4"/>
										</svg>
									</a>

									<a href="{{ path('articles') }}" class="btn-layout {{ (app.request.get('cols') is empty )? 'active': ''  }}">
										<svg width="22" height="10">
											<rect x="0" y="0" width="4" height="4"/>
											<rect x="6" y="0" width="4" height="4"/>
											<rect x="12" y="0" width="4" height="4"/>
											<rect x="18" y="0" width="4" height="4"/>
											<rect x="0" y="6" width="4" height="4"/>
											<rect x="6" y="6" width="4" height="4"/>
											<rect x="12" y="6" width="4" height="4"/>
											<rect x="18" y="6" width="4" height="4"/>
										</svg>
									</a>
								</div>
								<!-- End .toolbox-layout -->
							</div>
							<!-- End .toolbox-right -->
						</div>
						<!-- End .toolbox -->

						<div class="products mb-3">
							<div class="row justify-content-center">
								{% for item in articles %}
									<div class="
											                                    {# col-6 #}
											                                    col-6 col-md-4 col-lg-4 col-xl-3
											                                    {# col-6 col-md-4 col-lg-4 #}
											                                    ">
										<div class="product product-7 text-center">
											<figure class="product-media">
												<span class="product-label label-new">{{'New'|trans}}</span>
												<span class="product-label label-out">Out of Stock</span>
												<span class="product-label label-top">Top</span>
												<a href="{{ path('articles_show', { category: item.category.title|lower, slug: item.slug, id: item.id}) }}">
													{% for item in item.images|slice(0,1) %}
														<img
														class="product-image" src="{{ asset('img/article/' ~ item.name )|imagine_filter('square') }}" alt="{{ item.name }}">
														{# <img src="assets/images/products/product-4.jpg" alt="Product image" class="product-image"> #}
													{% else %}
														{# <img class="card-img" src="{{ asset('img/vide.png')}}" alt=""> #}
														<img src="{{ asset('img/vide.png')}}" alt="Product image" class="product-image">
													{% endfor %}
												</a>

												<div class="product-action-vertical">
													<a href="#" class="btn-product-icon btn-wishlist btn-expandable">
														<span>{{'add to wishlist'|trans}}</span>
													</a>
													<a href="popup/quickView.html" class="btn-product-icon btn-quickview" title="Quick view">
														<span>{{'Quick view'|trans}}</span>
													</a>
													<a href="#" class="btn-product-icon btn-compare" title="Compare">
														<span>{{'Compare'|trans}}</span>
													</a>
												</div>
												<!-- End .product-action-vertical -->

												<div class="product-action">
													<a href="#" class="btn-product btn-cart">
														<span>{{'add to cart'|trans}}</span>
													</a>
												</div>
												<!-- End .product-action -->
											</figure>
											<!-- End .product-media -->

											<div class="product-body">
												<div class="product-cat">
													<a href="#">{{ item.category.title }}</a>
												</div>
												<!-- End .product-cat -->
												<h3 class="product-title">
													<a href="{{ path('articles_show', { category: item.category.title|lower, slug: item.slug, id: item.id}) }}">
														{{ item.title }}
													</a>
												</h3>
												<!-- End .product-title -->
												<div class="product-price">
													{{ item.formatterPrice }}
													{{ site.current_name }}
												</div>
												<!-- End .product-price -->
												<div class="ratings-container">
													<div class="ratings">
														<div class="ratings-val" style="width: 20%;"></div>
														<!-- End .ratings-val -->
													</div>
													<!-- End .ratings -->
													<span class="ratings-text">( 2
														{{'Reviews'|trans}}
														)</span>
												</div>
												<!-- End .rating-container -->


												<div class="product-nav product-nav-thumbs">
													<a href="#" class="active">
														<img src="{{ asset('assets/images/products/product-4-thumb.jpg') }}" alt="product desc">
													</a>
													<a href="#">
														<img src="{{ asset('assets/images/products/product-4-2-thumb.jpg') }}" alt="product desc">
													</a>

													<a href="#">
														<img src="{{ asset('assets/images/products/product-4-3-thumb.jpg') }}" alt="product desc">
													</a>
												</div>
												<!-- End .product-nav -->
											</div>
											<!-- End .product-body -->
										</div>
										<!-- End .product -->
									</div>
									<!-- End .col-sm-6 col-lg-4 col-xl-3 -->
								{% endfor %}
							</div>
							<!-- End .row -->
						</div>
						<!-- End .products -->


						<nav aria-label="Page navigation">
							{{ knp_pagination_render(articles) }}
							{# <ul class="pagination justify-content-center">
														        <li class="page-item disabled">
														            <a class="page-link page-link-prev" href="#" aria-label="Previous" tabindex="-1" aria-disabled="true">
														                <span aria-hidden="true"><i class="icon-long-arrow-left"></i></span>Prev
														            </a>
														        </li>
														        <li class="page-item active" aria-current="page"><a class="page-link" href="#">1</a></li>
														        <li class="page-item"><a class="page-link" href="#">2</a></li>
														        <li class="page-item"><a class="page-link" href="#">3</a></li>
														        <li class="page-item-total">of 6</li>
														        <li class="page-item">
														            <a class="page-link page-link-next" href="#" aria-label="Next">
														                Next <span aria-hidden="true"><i class="icon-long-arrow-right"></i></span>
														            </a>
														        </li>
														    </ul> #}
						</nav>
					</div>
					<!-- End .col-lg-9 -->
					
					<aside class="col-lg-3 order-lg-first">
						<div class="sidebar sidebar-shop">
							<div class="widget widget-clean">
								<label>Filters:</label>
								<a href="#" class="sidebar-filter-clear">Clean All</a>
							</div>
							<!-- End .widget widget-clean -->
								{% if app.request.get('_route') == 'articles_category' %}
								<div class="widget widget-collapsible">
									<h3 class="widget-title">
										<a data-toggle="collapse" href="#widget-1" role="button" aria-expanded="true" aria-controls="widget-1">
											{{ 'Brand' |capitalize |trans}}
										</a>
									</h3>
									<!-- End .widget-title -->

									<div class="collapse show" id="widget-1">
										<div class="widget-body">
											<div class="filter-items filter-items-count">
												{# {% for item in categorie.subs %}
													<div class="filter-item">
														<div class="custom-control custom-checkbox">
															<input type="checkbox" class="custom-control-input" id="cat-{{ item.title }}">
															<label class="custom-control-label" for="cat-{{ item.title }}">{{ item.title |trans}}</label>
														</div>
														<!-- End .custom-checkbox -->
														<span class="item-count">100</span>
													</div>
												{% endfor %} #}

												{#
												<!-- End .filter-item -->
												<div class="filter-item">
													<div class="custom-control custom-checkbox">
														<input type="checkbox" class="custom-control-input" id="cat-1">
														<label class="custom-control-label" for="cat-1">Dresses</label>
													</div>
													<!-- End .custom-checkbox -->
													<span class="item-count">3</span>
												</div>
												<!-- End .filter-item -->

												<div class="filter-item">
													<div class="custom-control custom-checkbox">
														<input type="checkbox" class="custom-control-input" id="cat-2">
														<label class="custom-control-label" for="cat-2">T-shirts</label>
													</div>
													<!-- End .custom-checkbox -->
													<span class="item-count">0</span>
												</div>
												<!-- End .filter-item -->

												<div class="filter-item">
													<div class="custom-control custom-checkbox">
														<input type="checkbox" class="custom-control-input" id="cat-3">
														<label class="custom-control-label" for="cat-3">Bags</label>
													</div>
													<!-- End .custom-checkbox -->
													<span class="item-count">4</span>
												</div>
												<!-- End .filter-item -->

												<div class="filter-item">
													<div class="custom-control custom-checkbox">
														<input type="checkbox" class="custom-control-input" id="cat-4">
														<label class="custom-control-label" for="cat-4">Jackets</label>
													</div>
													<!-- End .custom-checkbox -->
													<span class="item-count">2</span>
												</div>
												<!-- End .filter-item -->

												<div class="filter-item">
													<div class="custom-control custom-checkbox">
														<input type="checkbox" class="custom-control-input" id="cat-5">
														<label class="custom-control-label" for="cat-5">Shoes</label>
													</div>
													<!-- End .custom-checkbox -->
													<span class="item-count">2</span>
												</div>
												<!-- End .filter-item -->

												<div class="filter-item">
													<div class="custom-control custom-checkbox">
														<input type="checkbox" class="custom-control-input" id="cat-6">
														<label class="custom-control-label" for="cat-6">Jumpers</label>
													</div>
													<!-- End .custom-checkbox -->
													<span class="item-count">1</span>
												</div>
												<!-- End .filter-item -->

												<div class="filter-item">
													<div class="custom-control custom-checkbox">
														<input type="checkbox" class="custom-control-input" id="cat-7">
														<label class="custom-control-label" for="cat-7">Jeans</label>
													</div>
													<!-- End .custom-checkbox -->
													<span class="item-count">1</span>
												</div>
												<!-- End .filter-item -->

												<div class="filter-item">
													<div class="custom-control custom-checkbox">
														<input type="checkbox" class="custom-control-input" id="cat-8">
														<label class="custom-control-label" for="cat-8">Sportwear</label>
													</div>
													<!-- End .custom-checkbox -->
													<span class="item-count">0</span>
												</div>
												<!-- End .filter-item -->
												#}
											</div>
											<!-- End .filter-items -->
										</div>
										<!-- End .widget-body -->
									</div>
									<!-- End .collapse -->
								</div>
								<!-- End .category parent-->
								{% endif %}
								

								<div class="widget widget-collapsible">
									<h3 class="widget-title">
										<a data-toggle="collapse" href="#widget-5" role="button" aria-expanded="true" aria-controls="widget-5">
											Price
										</a>
									</h3>
									<!-- End .widget-title -->

									<div class="collapse show" id="widget-5">
										<div class="widget-body">
											<div class="filter-price">
												<div class="filter-price-text">
													Price Range:
													<span id="filter-price-range"></span>
												</div>
												<!-- End .filter-price-text -->

												<div id="price-slider"></div>
												<!-- End #price-slider -->
											</div>
											<!-- End .filter-price -->
										</div>
										<!-- End .widget-body -->
									</div>
									<!-- End .collapse -->
								</div>
								<!-- End .widget -->
							</div>
							<!-- End .sidebar sidebar-shop -->
					</aside>
						<!-- End .col-lg-3 -->
					</div>
					<!-- End .row -->
				</div>
				<!-- End .container -->
			</div>
			<!-- End .page-content -->
		</main>
		<!-- End .main -->
	{% endblock %}
